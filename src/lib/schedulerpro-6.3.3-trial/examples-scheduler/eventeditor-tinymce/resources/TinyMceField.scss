.b-tinymcefield {
    row-gap : 0;

    // Float above event editor popup
    .tox.tox-tinymce {
        width         : 100%;
        z-index       : 100000;
        border-radius : 2px;

        &:not(.tox-tinymce-inline) {
            border : 1px solid #d0d1d2;
        }

        &.tox-tinymce-inline {
            margin-top          : -2px;
            margin-inline-start : -1px;
        }

        &.tox-edit-focus {
            border-color : rgba(254, 172, 49, 0.6);
        }

        .tox-edit-area::before {
            border : none;
        }
    }

    .tox-tinymce-aux {
        width   : 0 !important;
        z-index : 100000;
    }

    .tox .tox-tooltip {
        // positioning does not work seamlessly, so better no tooltips at all than clipped ones
        display : none;
    }

    .tox .tox-collection__item {
        // prevent line wrap in dropdown menus
        white-space : nowrap;
    }

    .b-field-inner {
        border : none;

        .b-cell-editor & {
            body:not(.b-theme-material) & {
                border : 1px solid rgba(254, 172, 49, 0.6);
            }

            .b-richtextfield-container {
                padding : calc(0.75em - 1px) calc(0.5em - 1px);
            }
        }
    }
}

.b-theme-classic-dark .tox .tox-edit-area__iframe {
    background-color : transparent;
}

.b-theme-classic {
    .b-richtextfield {
        background-color: transparent;
    }

    .b-tinymcefield {
        color : rgb(0, 0, 0);
    }
}

.b-theme-material {
    .b-tinymcefield {
        position : relative;

        .b-field-inner {
            padding-top : 0.79em;
        }
    }

    .b-cell-editor {
        .b-tinymcefield {
            .b-field-inner {
                padding-top : 0;
                padding-inline : 0 !important;

                .tox-tinymce-inline {
                    left          : 0 !important;
                    right         : 0 !important;
                    width         : auto !important;
                    margin-top    : -1px;
                }
            }
        }
    }
}
