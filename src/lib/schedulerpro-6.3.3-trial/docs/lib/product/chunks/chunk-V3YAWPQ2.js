(function(a,b){const c=a();function f(a,b){return _cmpb(b-0x25d,a);}while(!![]){try{const d=parseInt(f(0x3c2,0x3ae))/0x1*(parseInt(f(0x3a3,0x3a6))/0x2)+parseInt(f(0x3a9,0x38c))/0x3+parseInt(f(0x3ca,0x3b0))/0x4+parseInt(f(0x390,0x397))/0x5+parseInt(f(0x39e,0x393))/0x6+parseInt(f(0x3a4,0x3a3))/0x7+-parseInt(f(0x385,0x387))/0x8;if(d===b){break;}else{c['push'](c['shift']());}}catch(e){c['push'](c['shift']());}}}(_cmpa,0x72f71));import{Container,__publicField}from'./chunk-4LGJKEU6.js';var UndoRedoBase=class extends Container{static get[_cmpg(0x274,0x26c)](){function h(a,b){return _cmpg(a,b- -0x286);}return{'project':null,'stm':null,'text':null,'color':null,'showZeroActionBadge':null,'cls':'b-undo-controls\x20b-toolbar','layoutStyle':{'alignItems':h(0x1,-0xa),'flexFlow':h(0x0,0x10),'overflow':'visible'},'items':{'undoBtn':{'type':h(-0x1f,-0xe),'icon':h(-0x16,0x2),'tooltip':h(-0x13,-0x6),'onAction':h(-0xa,0x11)},'transactionsCombo':{'type':h(-0x24,-0x28),'valueField':h(0x8,-0x1),'editable':![],'store':{},'emptyText':'L{UndoRedo.NoActions}','onAction':h(-0x2c,-0x26),'displayValueRenderer':h(-0x1c,-0x12)},'redoBtn':{'type':h(-0x1,-0xe),'icon':h(-0x8,-0x1b),'tooltip':'L{UndoRedo.RedoLastAction}','onAction':'up.onRedo'}},'overflowable':!![]};}[_cmpg(0x268,0x27e)](){function i(a,b){return _cmpg(a,b- -0x91);}this[i(0x1c2,0x1d7)]();}[_cmpg(0x26f,0x27b)](a){this['detachListeners']('undoredo');function j(a,b){return _cmpg(a,b- -0x37b);}a==null?void 0x0:a['ion']({'name':j(-0x106,-0xf5),'recordingstop':j(-0x122,-0x113),'restoringstop':j(-0x10a,-0x113),'queueReset':j(-0x12e,-0x113),'disabled':j(-0x129,-0x113),'thisObj':this});}[_cmpg(0x2a1,0x294)](a){const {undoBtn:b,redoBtn:c}=a;if(this['color']){b&&(b['color']=this[k(0x191,0x17a)]);c&&(c['color']=this[k(0x16e,0x17a)]);}function k(a,b){return _cmpg(a,b- -0x111);}if(this['text']){b&&(b['text']='L{UndoRedo.Undo}');c&&(c[k(0x16c,0x161)]=k(0x159,0x162));}return super[k(0x186,0x183)](a);}[_cmpg(0x251,0x26f)](a){function l(a,b){return _cmpg(a,b- -0x22c);}this[l(0x2f,0x3a)]=a['stm'];}[_cmpg(0x26f,0x269)](){function m(a,b){return _cmpg(a,b- -0x11e);}const {transactionsCombo:a}=this[m(0x157,0x13f)];a&&(a[m(0x181,0x172)]=[[0x0,m(0x171,0x169)],...this[m(0x132,0x148)]['queue'][m(0x168,0x15b)]((b,c)=>[c+0x1,b||m(0x168,0x174)+(c+0x1)])]);}[_cmpg(0x26e,0x268)](){const {stm:a,showZeroActionBadge:b}=this,{undoBtn:c,redoBtn:d,transactionsCombo:e}=this[n(-0x116,-0x12d)];c['badge']=a[n(-0xe0,-0xec)]||(b?'0':'');d[n(-0xfc,-0x10e)]=a[n(-0xf0,-0xdb)]-a[n(-0xe0,-0xf2)]||(b?'0':'');c[n(-0x103,-0x117)]=!a[n(-0x114,-0x100)];d[n(-0x103,-0x10a)]=!a[n(-0xfd,-0xe0)];function n(a,b){return _cmpg(b,a- -0x373);}this['fillUndoRedoCombo']();if(e){e[n(-0x103,-0x114)]=e['store'][n(-0x110,-0x10b)]<=0x1;}}[_cmpg(0x28c,0x28a)](a,b){function o(a,b){return _cmpg(a,b- -0x1b0);}var c;const d=((c=this['stm'])==null?void 0x0:c[o(0xe1,0xe3)])||0x0;return d+o(0xd0,0xcd)+(b[o(0xcc,0xbe)][o(0xc6,0xb3)]-d-0x1)+o(0xfc,0xdf);}['onUndo'](){const {stm:a,project:b}=this;function p(a,b){return _cmpg(b,a-0x3a);}if(a[p(0x299,0x28c)]){if(a[p(0x2a7,0x2b4)]){b['queue'](()=>{function q(a,b){return p(a-0x239,b);}a['undo']();return b[q(0x4f2,0x4d8)]();});}else{a[p(0x2cb,0x2b2)]();}}}[_cmpg(0x26e,0x264)](){const {stm:a,project:b}=this;function r(a,b){return _cmpg(b,a- -0x46f);}if(a[r(-0x1f9,-0x1f9)]){if(a[r(-0x202,-0x1ff)]){b[r(-0x1da,-0x1e5)](()=>{a[s(0x3ab,0x38d)]();function s(a,b){return r(b-0x582,a);}return b[s(0x3a8,0x392)]();});}else{a['redo']();}}}[_cmpg(0x29f,0x28d)](a){function t(a,b){return _cmpg(a,b- -0x23);}const {stm:b}=this,c=b[t(0x265,0x270)]-a[t(0x23a,0x244)];if(c>0x0){b['canUndo']&&b['undo'](c);}else if(c<0x0){b[t(0x24e,0x253)]&&b[t(0x272,0x257)](-c);}}};function _cmpa(){const u=['map','redo','updateStm','stretch','\x20undo\x20actions\x20/\x20','afterConstruct','commitAsync','L{UndoRedo.UndoLastAction}','3754646sLDqgK','_$name','length','2822SPIoxU','idx','undoredo','Original\x20data','b-icon-undo','initClass','transactionsDisplayValueRenderer','color','492gEdjnf','onTransactionSelected','3527508TNlBDf','\x20redo\x20actions','items','undo','Transaction\x20','position','changeItems','queue','row\x20nowrap','up.onUndo','widgetMap','combo','canUndo','up.onTransactionSelected','undoredobase','UndoRedoBase','count','onRedo','28655680GiiEQz','stm','value','updateUndoRedoControls','fillUndoRedoCombo','2564955YYFVGX','b-icon-redo','configurable','revisionsEnabled','store','updateProject','disabled','5390304zjhGko','text','L{UndoRedo.Redo}','up.transactionsDisplayValueRenderer','935105jkbOXn','canRedo','badge','button'];_cmpa=function(){return u;};return _cmpa();}function _cmpb(a,b){const c=_cmpa();_cmpb=function(d,e){d=d-0x122;let f=c[d];return f;};return _cmpb(a,b);}__publicField(UndoRedoBase,'$name',_cmpg(0x24a,0x262));__publicField(UndoRedoBase,'type',_cmpg(0x267,0x261));UndoRedoBase[_cmpg(0x281,0x289)]();UndoRedoBase[_cmpg(0x27c,0x282)]='UndoRedoBase';function _cmpg(a,b){return _cmpb(b-0x13b,a);}export{UndoRedoBase};