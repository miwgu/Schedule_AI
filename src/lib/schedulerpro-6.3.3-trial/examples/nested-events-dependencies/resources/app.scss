:root {
    --color                   : #222;
    --parent-background       : #fff;
    --parent-color            : #555;
    --border-color            : #bbb;
    --timeaxis-background     : #f3f4f5;
    --shadow                  : 0 0 5px #99999960;
    --selected-shadow         : 0 0 8px #99999975;
    --nested-hover-background : #f9f9f9;
}

.b-theme-classic-dark {
    --color               : #ccc;
    --parent-background   : #2b2b2f;
    --parent-color        : #999;
    --border-color        : #222;
    --timeaxis-background : #38383c;
    --shadow              : none;
    --selected-shadow     : none;
    --nested-hover-background : #222;
}

//region Parent styling

.b-sch-event-wrap.b-nested-events-parent {
    > .b-sch-event:not(.b-milestone) {
        background-color : var(--parent-background);
        border-radius    : 10px;
        border           : 1px solid var(--border-color);
        box-shadow       : var(--shadow);

        // Don't alter event appearance on hover or selection
        &:hover,
        &.b-sch-event-selected,
        &.b-sch-event-selected:hover {
            --shadow         : var(--selected-shadow);

            background-image : none;

            > .b-sch-event-content,
            > .b-sch-event-content * {
                color : var(--parent-color);
            }
        }

        > .b-sch-event-content {
            font-weight : 400;
            font-size   : 0.9em;
            color       : var(--parent-color);
            align-items : center;
            // Required for tooltip to be able to align to the pin icon
            overflow    : visible;

            i {
                position  : absolute;
                right     : 0;
                animation : ShowPin 0.5s ease;
                rotate    : 20deg;
                cursor    : pointer;
            }
        }

        > .b-task-percent-bar-outer {
            display : none;
        }
    }
}

//endregion

//region Nested event styling

.b-nested-event > .b-sch-event {
    background-color : transparent;
    border-radius    : 8px;
    border           : 1px solid var(--border-color);

    &:hover {
        background : var(--nested-hover-background);
    }

    .b-sch-event-content {
        color       : var(--color);
        font-weight : 300;
    }

    .b-task-percent-bar-outer {
        border-radius : 7px;
    }
}

.b-dragging-event .b-nested-events-parent .b-sch-event:hover .b-nested-events-container {
    background-image : none;
}

.b-task-percent-bar {
    background-color : #1847F019;

    .b-sch-event-selected & {
        background-color : #1847F029;
    }
}
.b-task-percent-bar {
    &[data-percent="90"],
    &[data-percent="91"],
    &[data-percent="92"],
    &[data-percent="93"],
    &[data-percent="94"],
    &[data-percent="95"],
    &[data-percent="96"],
    &[data-percent="97"],
    &[data-percent="98"],
    &[data-percent="99"],
    &[data-percent="100"] {
        background-color : #00ff0040;

        .b-sch-event-selected & {
            background-color : #00ff0060;
        }
    }
}

//endregion

//region Scheduler styling

.b-timeaxissubgrid {
    background-color : var(--timeaxis-background);
}

.b-grid-row {
    border-bottom    : none;
    background-color : var(--timeaxis-background);
}

.b-grid-header-container .b-grid-splitter {
    background : transparent;
}

.b-grid-body-container .b-grid-splitter {
    background-color : var(--timeaxis-background);
}

.b-horizontaltimeaxis .b-sch-header-timeaxis-cell {
    border-inline-start : none;
    border-bottom       : none;
}

.toolbar-container {
    position      : absolute;
    right         : 1.5em;
    bottom        : 1.5em;
    box-shadow    : var(--shadow);
    border-radius : 8px;
    border        : 1px solid var(--border-color);
    overflow      : hidden;
}

.b-grid-header-container,
.b-grid-header-container .b-sch-timeaxiscolumn {
    background : var(--parent-background);
}

//endregion

//region Terminal styling

.b-sch-terminal {
    animation : ShowTerminal 0.2s ease-in;
}

.b-hiding-terminals > .b-sch-event > .b-sch-terminal {
    animation : HideTerminal 0.2s ease-out forwards;
}

@keyframes ShowTerminal {
    0% {
        opacity : 0;
        scale   : 0;
    }

    100% {
        opacity : 1;
        scale   : 1
    }
}

@keyframes HideTerminal {
    0% {
        opacity : 1;
        scale   : 1;
    }

    100% {
        opacity : 0;
        scale   : 0
    }
}

@keyframes ShowPin {
    0% {
        opacity   : 0;
        translate : 10px -15px;
        scale     : 2;
        rotate    : 75deg;
    }

    10% {
        rotate : 75deg;
    }

    50% {
        opacity : 1;
    }

    100% {
        opacity   : 1;
        translate : 0 0;
        scale     : 1;
        rotate    : 20deg;
    }
}

//endregion

//region Resource styling

.expedition {
    display            : grid;
    align-content      : center;
    justify-content    : start;
    gap                : 1em;
    grid-template-rows : 1em 1em 1em;
}

.name {
    font-size   : 1.2em;
    font-weight : 600;
    grid-column : 1 / 3;
}

.label {
    grid-column : 1 / 2;
    font-size   : 0.9em;
    color       : #777;
}

.height, .country {
    font-size   : 0.9em;
    grid-column : 2 / 3;
}

.height {
}

.country {
    font-size : 1.5em;
}

//endregion
